// Copyright (C) 2022 Katsute <https://github.com/Katsute>

.markdown {

    #{$heading-selector} { @extend .my-3; }

    h1, h2 {

        @extend .pb-1;
        @extend .border-bottom;

    }

    blockquote {

        @extend .p-2;

        border-left: .25rem solid $gray-300;
        background-color: $gray-100;

        @extend .text-muted;

        p { @extend .mb-0; }

    }

    code { @extend .text-danger; } // code

    a code { @extend .text-primary; } // code links

    a { @extend .text-decoration-none; } // links

    p > br:first-child { @extend .d-none; } // empty p

    table {

        @extend .align-middle;

        @extend .table;
        @extend .table-sm;
        @extend .table-bordered;

        overflow-x: scroll;

        width: max-content;
        max-width: 100%;

        table-layout: fixed;

        th { @extend .text-center; }

        td, th { @extend .px-2, .py-1; }

        tbody { @extend .border-top-0; }

        td code { @extend .text-nowrap; } // prevent code blocks from being broken

    }

    kbd { @extend .text-nowrap; } // prevent keystrokes from being broken

    ol, ul {  @extend .mb-3; } // spacing below lists

    img {

        @extend .round-2;
        @extend .mb-2;

        // dangling table
        &[alt="GitHub Copilot"] + p + table { @extend .d-none; }

        // dark mode images
        &[src$="#gh-dark-mode-only"] { @extend .d-none; }

        // alignment
        &[align="left"] { @extend .me-2; }
        &[align="right"] { @extend .ms-2; }

    }

}